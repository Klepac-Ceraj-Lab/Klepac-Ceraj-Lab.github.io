<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/jtd.css"> <link rel=icon  href="/assets/favicon.ico"> <title>Using Rsync for file transfers</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/" class=title > VKC Lab Protocols </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/" class="menu-list-link ">Home</a> <li class="menu-list-item "><a href="/wetlab/" class="menu-list-link ">Wet Lab Protocols</a> <li class="menu-list-item active"><a href="/drylab/" class="menu-list-link ">Dry Lab Protocols</a> <li class="menu-list-item "><a href="/handbook/" class="menu-list-link ">Lab Handbook</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#ii_research_opportunities_and_expectations" class=menu-list-link >Research Expectations</a> <li class="menu-list-item "><a href="#iib_additional_expectations_for_thesis_students" class=menu-list-link >Thesis Expectations</a> <li class="menu-list-item "><a href="#iii_meetings_and_presentations" class=menu-list-link >Presentations</a> <li class="menu-list-item "><a href="#vi_agreements_and_contracts" class=menu-list-link >Agreements and Contracts</a> </ul> </ul> </div> <div class=footer > This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>. </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="//github.com/Klepac-Ceraj-Lab">The VKC Lab on GitHub</a> </div> <div class=franklin-content > <h1 id=file_transfers_with_rsync ><a href="#file_transfers_with_rsync" class=header-anchor >File transfers with rsync</a></h1> <p><a href="https://explainshell.com/explain/1/rsync"><code>rsync</code></a> is a ubiquitous and powerful file transfer system that can be used to transfer individual files or whole drives locally or over <a href="/drylab/ssh"><code>ssh</code></a>, and provides</p> <ul> <li><p><strong>Incremental backup</strong>: If you&#39;ve already sync&#39;d a directory, <code>rsync</code> won&#39;t re-transfer files &#40;unless they&#39;ve changed&#41;. This also means that interrupted transfers can be resumed.</p> <li><p><strong>include / exclude patterns</strong>: You can set up patterns of files to transfer or not, based on glob patterns, or pass explicit lists of files. You can also save these patterns in particular directories for repeated use.</p> <li><p><strong>Destructive or non-destructive</strong>: By default, <code>rsync</code> backups are non-destructive &#40;that is, files won&#39;t be deleted&#41;, but you can choose to make source and destination mirrored &#40;deleting files that don&#39;t exist at the source&#41; using explicit commands.</p> <li><p><strong>Preview</strong>: you can review what is going to be transferred before actually initiating the transfer.</p> </ul> <p>But all this power also means a lot of complexity, and the software was released before most of you were born &#40;1996&#41;, so it takes a bit of effort to unlock that power. This page will hopefully make that process a bit easier.</p> <h2 id=getting_started ><a href="#getting_started" class=header-anchor >Getting started</a></h2> <h3 id=installation ><a href="#installation" class=header-anchor >Installation</a></h3> <p><code>rsync</code> should already be installed on your system. The version that comes installed on MacOS is pretty old, but should work just fine. If you want a shiny new version, you can <a href="http://brew.sh">use homebrew</a>: <code>brew install rsync</code>.</p> <h3 id=ssh_access ><a href="#ssh_access" class=header-anchor >SSH access</a></h3> <p>If you&#39;re transferring files between different computers &#40;eg from a lab server to your laptop&#41;, you should have <a href="/drylab/ssh">set up <code>ssh</code></a> connections. Throughout this page, instructions assume that you have a <code>~/.ssh/config</code> file that includes aliases for different machines, eg <code>ada</code> for <code>your-user-name@vkclab-ada.wellesley.edu</code>.</p> <h2 id=transferring_files ><a href="#transferring_files" class=header-anchor >Transferring files</a></h2> <p>Like the shell utilities <code>mv</code> and <code>cp</code>, the basic invocation is</p> <pre><code class="sh hljs">$ rsync &lt;<span class=hljs-built_in >source</span>&gt; &lt;destination&gt;</code></pre>
<p>Where <code>&lt;source&gt;</code> is the location &#40;path&#41; of the file&#40;s&#41; that you are transferring <strong>from</strong>, and <code>&lt;destination&gt;</code> is the location &#40;path&#41; of the directory that you&#39;re transferring <strong>to</strong>.</p>
<p>Unlike <code>mv</code> and <code>cp</code>, either <code>&lt;source&gt;</code> or <code>&lt;destination&gt;</code> &#40;though not both&#41; can be a remote machine, and files can be transferred using the ssh protocol. For example, if I want to transfer a file on <code>/lovelace</code>, <a href="/drylab/computers/#ada">which is a drive</a> attached to <code>ada</code>, to the desktop on my local machine, I would write:</p>
<pre><code class="sh hljs">$ rsync ada:/lovelace/myfile.txt ~/Desktop/</code></pre>
<p>Here <code>ada</code> is filled in with <code>kevin@vkclab-ada.wellesley.edu</code>, because of my ssh configuration. The <code>:</code> separates the &quot;hostname&quot; of the remote machine and the path on that machine.</p>
<p>Also unlike <code>mv</code> and <code>cp</code>, you cannot use &quot;glob&quot; patterns &#40;eg <code>/lovelace/*.txt</code>&#41; to transfer all files matching a particular pattern. But there are other ways of accomplishing this &#40;and even more powerful things&#41; using some different options.</p>
<p>Read on&#33;</p>
<h3 id=the_-a_archive_flag_for_transferring_whole_directories ><a href="#the_-a_archive_flag_for_transferring_whole_directories" class=header-anchor >The -a &#40;â€“archive&#41; flag for transferring whole directories</a></h3>
<div class=page-foot >
  <div class=copyright >
    &copy; VKC Lab Staff  | Last modified: December 10, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
    </div> 
    </div> 
    </div> <!-- end of class page-wrap-->